<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fanz Store</title>
<link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet">
<script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
<style>
:root {--accent:#9b5de5;--accent-2:#7b3bd3;--text-dark:#222;}
*{box-sizing:border-box;font-family:"Poppins",sans-serif;}
body{margin:0;background:#fff;color:var(--text-dark);scroll-behavior:smooth;}
header{display:flex;align-items:center;justify-content:space-between;padding:12px 20px;background:var(--accent);position:sticky;top:0;z-index:100;}
.logo-store{display:flex;align-items:center;gap:10px;color:#fff;font-weight:700;}
.logo-store img{width:50px;height:50px;border-radius:10px;object-fit:cover;}
.logo-store h1{margin:0;font-size:20px;}
.navbar{display:flex;gap:15px;}
.navbar a{color:#fff;text-decoration:none;font-weight:600;cursor:pointer;transition:0.3s;text-shadow:1px 1px 2px rgba(0,0,0,0.5);}
.navbar a:hover{text-decoration:underline;}
.hamburger{display:none;flex-direction:column;gap:5px;cursor:pointer;}
.hamburger div{width:25px;height:3px;background:#fff;transition:0.3s;}
@media(max-width:768px){
  .hamburger{display:flex;}
  .navbar{display:none;flex-direction:column;position:absolute;top:65px;left:0;width:100%;background:#fff;padding:10px 20px;box-shadow:0 4px 12px rgba(0,0,0,0.2);border-top:2px solid var(--accent);}
  .navbar a{color:var(--accent-2);text-shadow:1px 1px 2px rgba(0,0,0,0.4);padding:10px 0;}
}
section{padding:50px 20px;}
#home{background:var(--accent);color:#fff;text-align:center;}
#home h1{margin-bottom:10px;}
#home p{margin-top:0;}
input[type=text], input[type=number]{width:90%;max-width:200px;padding:10px;margin:10px 0;border:1px solid #ccc;border-radius:8px;outline-color:var(--accent);}
.products{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:20px;max-width:1100px;margin:30px auto;}
.card{background:#fff;border-radius:15px;box-shadow:0 6px 18px rgba(0,0,0,0.05);text-align:center;padding:20px;border:1.5px solid #f0f0f0;transition:all 0.3s;}
.card:hover{transform:translateY(-5px);box-shadow:0 6px 20px rgba(155,93,229,0.25);}
.btn{background:var(--accent-2);color:#fff;padding:10px 20px;border:none;border-radius:25px;cursor:pointer;font-weight:600;transition:all 0.3s;}
.btn:hover{background:var(--accent);}
.payment-section{display:none;text-align:center;padding:30px 20px;color:black;background:#fafafa;border-top:2px solid var(--accent);}
.payment-section img{width:120px;border-radius:50%;margin:15px 0;}
footer{text-align:center;padding:20px;background:#fff;border-top:1.5px solid #eee;color:#777;font-size:14px;}
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);align-items:center;justify-content:center;z-index:999;}
.modal-content{background:#fff;padding:25px;border-radius:12px;max-width:400px;width:90%;text-align:center;position:relative;}
.modal-content button.close{position:absolute;top:10px;right:10px;background:red;color:#fff;border:none;border-radius:50%;width:25px;height:25px;cursor:pointer;}
</style>
</head>
<body>

<header>
  <div class="logo-store">
    <img src="public/logof2.png" alt="Logo Fanz Store">
    <h1>Fanz Store</h1>
  </div>
  <div class="hamburger" onclick="toggleMenu()"><div></div><div></div><div></div></div>
  <div class="navbar" id="navbar">
    <a href="#home">Home</a>
    <a href="#cara-beli">Cara Beli</a>
    <a href="#gamepass">Game Pass</a>
    <a href="#cs" onclick="openCS()">CS</a>
  </div>
</header>

<section id="home" data-aos="fade-up">
  <h1>Selamat Datang di Fanz Store</h1>
  <p>Robux Termurah & Cepat Masuk Pending</p>
  <div style="margin-top:15px;">
    <input type="text" id="username" placeholder="Masukkan Username Roblox" />
    <br>
    <button class="btn" onclick="checkProfile()">Cek Profil</button>
  </div>
  <div style="margin-top:15px;">
    <img id="robloxAvatar" src="" alt="Avatar Roblox" style="display:none;cursor:pointer;border:3px solid #fff;border-radius:50%;width:120px;height:120px;" onclick="showPackages()">
  </div>
</section>

<section id="cara-beli" data-aos="fade-up">
  <h2 style="text-align:center;color:var(--accent);">Cara Membeli</h2>
  <ol style="max-width:500px;margin:20px auto;font-size:16px;">
    <li>Masukkan username Roblox & klik Cek Profil.</li>
    <li>Klik avatar Roblox untuk melihat paket Game Pass.</li>
    <li>Pilih paket atau masukkan jumlah Robux (maks 5000).</li>
    <li>Harga Game Pass otomatis muncul.</li>
    <li>Konfirmasi pembayaran via Midtrans, Robux masuk akun.</li>
  </ol>
</section>

<section id="gamepass" class="products" data-aos="fade-up"></section>

<section class="payment-section" id="payment" data-aos="fade-up">
  <h2>Pembayaran</h2>
  <h4 id="gp-price">Harga Game Pass: -</h4>
  <button class="btn" onclick="payWithMidtrans()">Bayar Sekarang</button>
</section>

<div class="modal" id="cs-modal">
  <div class="modal-content">
    <button class="close" onclick="closeCS()">x</button>
    <h3>Customer Service</h3>
    <p>Hubungi kami via WhatsApp: <a href="https://wa.me/088985665999" target="_blank">088985665999</a></p>
  </div>
</div>

<script src="https://app.sandbox.midtrans.com/snap/snap.js" data-client-key="Mid-client-450clBPngRMu1YoT"></script>
<footer>Â© 2025 Fanz Store | All Rights Reserved</footer>

<script>
AOS.init();
const packages=[100,200,500,1000,2000,5000];
let selectedRobux=0;
let usernameRoblox='';

function toggleMenu(){const nav=document.getElementById('navbar');nav.style.display=(nav.style.display==='flex')?'none':'flex';nav.style.flexDirection='column';}

function checkProfile(){
  usernameRoblox=document.getElementById('username').value.trim();
  const avatar=document.getElementById('robloxAvatar');
  if(!usernameRoblox){alert('Masukkan username Roblox!'); return;}
  fetch(`https://api.roblox.com/users/get-by-username?username=${usernameRoblox}`)
    .then(res=>res.json())
    .then(data=>{
      if(data.Id){
        avatar.src=`https://www.roblox.com/headshot-thumbnail/image?userId=${data.Id}&width=150&height=150&format=png`;
        avatar.style.display='inline-block';
        avatar.scrollIntoView({behavior:'smooth'});
      }else{alert('Username tidak ditemukan');}
    }).catch(e=>{console.error(e); alert('Gagal memeriksa username');});
}

function showPackages(){
  const container=document.getElementById('gamepass');
  container.innerHTML='';
  packages.forEach(pkg=>{
    const card=document.createElement('div');
    card.className='card';
    card.setAttribute('data-aos','fade-up');
    const gp=Math.round(pkg*1.43);
    card.innerHTML=`<h3>${pkg} Robux</h3><p>Harga Game Pass: ${gp} R$</p><button class="btn" onclick="selectPackage(${pkg})">Beli Robux</button>`;
    container.appendChild(card);
  });
  const customCard=document.createElement('div');
  customCard.className='card';
  customCard.setAttribute('data-aos','fade-up');
  customCard.innerHTML=`<h3>Paket Custom</h3><p>Masukkan jumlah Robux (max 5000)</p><input type="number" id="custom-robux" min="1" max="5000" value="100"/><button class="btn" onclick="buyCustom()">Beli Robux</button>`;
  container.appendChild(customCard);
  container.scrollIntoView({behavior:'smooth'});
}

function selectPackage(robux){selectedRobux=robux; showPaymentSection();}
function buyCustom(){const val=parseInt(document.getElementById('custom-robux').value); if(val>0 && val<=5000){selectedRobux=val; showPaymentSection();}else{alert('Maksimal 5000 Robux!');}}
function showPaymentSection(){const price=Math.round(selectedRobux*1.43); document.getElementById('payment').style.display='block'; document.getElementById('gp-price').innerText=`Harga Game Pass: ${price} R$`; window.scrollTo({top:document.getElementById('payment').offsetTop-50,behavior:'smooth'});}
function payWithMidtrans(){if(!usernameRoblox || selectedRobux<=0){alert('Pilih username dan paket dulu!'); return;} const total=Math.round(selectedRobux*1.43*100); fetch('/api/midtrans',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username:usernameRoblox, robux:selectedRobux,total:total})}).then(res=>res.json()).then(data=>{snap.pay(data.token);}).catch(e=>{console.error(e); alert('Gagal memulai pembayaran');});}

function openCS(){document.getElementById('cs-modal').style.display='flex';}
function closeCS(){document.getElementById('cs-modal').style.display='none';}
</script>
</body>
</html>
